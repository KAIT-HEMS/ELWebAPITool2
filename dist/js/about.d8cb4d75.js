"use strict";(self["webpackChunkelwebapitool2"]=self["webpackChunkelwebapitool2"]||[]).push([[443],{213:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var i=n(252);const r={class:"about"},o=(0,i.uE)('<div><h4>ECHONET Lite WebAPI Toolについて</h4><div> この Tool は、エコーネットコンソーシアムが策定した <a href="https://echonet.jp/web_api/#guideline" target="_blank" rel="noreferrer"> ECHONET Lite WebAPI </a> の仕様を理解するためのツールです。<br> エコーネットコンソーシアムが会員向けに運用している実験サーバーへのアクセスを想定しています。<br> 実験サーバーについては <a href="https://echonet.jp/m_only/web_api_cloud/" target="_blank" rel="noreferrer"> こちらの会員限定ページ </a> を参照ください。 </div><h4>apiKeyについて</h4><div> このツールを使って実験サーバーにアクセスするには、あらかじめユーザー登録を行い、apiKeyの取得が必要です。<br> ユーザー登録は、上記の会員限定ページから行うことができます。<br> この Tool の設定画面でapiKeyを入力したのち、設定保存ボタンをクリックしてください。 </div></div>',1),s=[o];function a(e,t){return(0,i.wg)(),(0,i.iD)("div",r,s)}var c=n(744);const l={},d=(0,c.Z)(l,[["render",a]]);var u=d},286:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var i=n(252),r=n(577),o=n(963),s=function(e){return(0,i.dD)("data-v-04abab90"),e=e(),(0,i.Cn)(),e},a={class:"setting"},c={class:"card"},l={class:"card-header"},d={class:"row"},u=s((function(){return(0,i._)("div",{class:"col-auto h5 mt-2"}," ECHONET Lite WebAPI Server の設定 ",-1)})),p=s((function(){return(0,i._)("div",{class:"col"},null,-1)})),v={class:"col-auto mt-2"},h=s((function(){return(0,i._)("div",{class:"col-auto"},null,-1)})),f={class:"card-body pt-2 pb-2"},g={class:"input-group"},y=s((function(){return(0,i._)("span",{class:"input-group-text"},"Select a server",-1)})),_={class:"form-check"},b=s((function(){return(0,i._)("label",{class:"form-check-label",for:"server1"},"実験サーバー",-1)})),C={class:"form-check"},K=s((function(){return(0,i._)("label",{class:"form-check-label",for:"server2"},"実証システム",-1)})),k=s((function(){return(0,i._)("br",null,null,-1)})),m={class:"input-group"},S=s((function(){return(0,i._)("span",{class:"input-group-text"},"API key for 実験サーバー",-1)})),I={class:"input-group"},D=s((function(){return(0,i._)("span",{class:"input-group-text"},"API key for 実証システム",-1)})),w={key:0,class:"card"},T={class:"card-header"},E={class:"row"},U=s((function(){return(0,i._)("div",{class:"col-auto h5 mt-2"}," デバイスエミュレーションの設定 ",-1)})),B=s((function(){return(0,i._)("div",{class:"col"},null,-1)})),L={class:"col-auto"},O={class:"col-auto mt-1 pl-0"},A={class:"col-auto mt-1 pl-0"},x={class:"card-body",id:"setting-devices-body"},H={id:"setting-devices-list-wrapper"},j={class:"list-group",id:"setting-devices-list"},P=s((function(){return(0,i._)("li",{class:"list-group-item d-flex align-items-start",id:"devices-header",tabindex:"0"},[(0,i._)("span",{class:"col1"},"Device Type"),(0,i._)("span",{class:"col2"},"Device Id"),(0,i._)("span",{class:"col3"},"削除")],-1)})),z={class:"col1"},V={class:"col2"},$={class:"col3"},W=["onClick"];function G(e,t,n,s,G,N){var X=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",null,[(0,i._)("div",c,[(0,i._)("div",l,[(0,i._)("div",d,[u,p,(0,i._)("div",v,(0,r.zw)(e.serverUrl),1),h])]),(0,i._)("div",f,[(0,i._)("form",null,[(0,i._)("div",g,[y,(0,i._)("div",_,[(0,i.wy)((0,i._)("input",{class:"form-check-input",type:"radio",id:"server1",value:"server1","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.serverSelection=t}),onChange:t[1]||(t[1]=function(t){return e.rbServerOnChange(t)})},null,544),[[o.G2,e.serverSelection]]),b]),(0,i._)("div",C,[(0,i.wy)((0,i._)("input",{class:"form-check-input",type:"radio",id:"server2",value:"server2","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.serverSelection=t}),onChange:t[3]||(t[3]=function(t){return e.rbServerOnChange(t)})},null,544),[[o.G2,e.serverSelection]]),K]),k]),(0,i._)("div",m,[S,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:"inputApiKey1","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.apiKey1=t}),onChange:t[5]||(t[5]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apiKeyOnChange1&&e.apiKeyOnChange1.apply(e,t)})},null,544),[[o.nr,e.apiKey1]])]),(0,i._)("div",I,[D,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:"inputApiKey2","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.apiKey2=t}),onChange:t[7]||(t[7]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apiKeyOnChange2&&e.apiKeyOnChange2.apply(e,t)})},null,544),[[o.nr,e.apiKey2]])])])])]),"server1"===e.serverSelection?((0,i.wg)(),(0,i.iD)("div",w,[(0,i._)("div",T,[(0,i._)("form",null,[(0,i._)("div",E,[U,B,(0,i._)("div",L,[(0,i.wy)((0,i._)("select",{id:"selectAddDevice",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=function(t){return e.addDevice=t})},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.addDeviceList,(function(e){return(0,i.wg)(),(0,i.iD)("option",{key:e.id},(0,r.zw)(e),1)})),128))],512),[[o.bM,e.addDevice]])]),(0,i._)("div",O,[(0,i._)("button",{type:"button",class:"btn btn-secondary btn-sm",onClick:t[9]||(t[9]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.addDeviceButtonIsClicked&&e.addDeviceButtonIsClicked.apply(e,t)})}," デバイス追加 ")]),(0,i._)("div",A,[(0,i._)("button",{type:"button",class:"btn btn-secondary btn-sm",onClick:t[10]||(t[10]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.updateButtonIsClicked&&e.updateButtonIsClicked.apply(e,t)})}," UPDATE ")])])])]),(0,i._)("div",x,[(0,i._)("div",H,[(0,i._)("ul",j,[P,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.idInfoList,(function(t,n){return(0,i.wg)(),(0,i.iD)("li",{class:"list-group-item d-flex align-items-start",key:t.id,tabindex:"0"},[(0,i._)("span",z,(0,r.zw)(t.deviceType),1),(0,i._)("span",V,(0,r.zw)(t.id),1),(0,i._)("span",$,[(0,i._)("button",{class:"btn btn-secondary btn-sm",type:"button",onClick:function(t){return e.deleteDeviceButtonIsClicked(n)}},[(0,i.Wm)(X,{icon:"trash",style:{color:"#eeeeee"}})],8,W)])])})),128))])])])])):(0,i.kq)("",!0)])])}var N=n(601);console.log("SettingView init");var X=[],Z=(0,i.aZ)({data:function(){var e,t;return{apiKey1:null!==(e=localStorage.getItem("apiKey1"))&&void 0!==e?e:"",apiKey2:null!==(t=localStorage.getItem("apiKey2"))&&void 0!==t?t:"",addDevice:N.v.addDeviceList[3],addDeviceList:N.v.addDeviceList,idInfoList:X,response:"Response: data"}},computed:{serverSelection:{get:function(){return this.$store.getters.serverSelection},set:function(e){this.$store.dispatch("setServerSelection",e)}},serverUrl:{get:function(){return this.$store.getters.serverUrl},set:function(e){this.$store.dispatch("setServerUrl",e)}},apiKey:{get:function(){return this.$store.getters.apiKey},set:function(e){this.$store.dispatch("setApiKey",e)}}},methods:{rbServerOnChange:function(e){e.target instanceof HTMLInputElement&&(console.log("rbServerOnChange",e.target.value),this.serverSelection=e.target.value,localStorage.setItem("serverSelection",this.serverSelection)),this.serverUrl="server1"==this.serverSelection?N.v.serverUrl1:N.v.serverUrl2,this.apiKey="server1"==this.serverSelection?this.apiKey1:this.apiKey2},apiKeyOnChange1:function(){console.log("apiKeyOnChange1:",this.apiKey1),localStorage.setItem("apiKey1",this.apiKey1),this.updateButtonIsClicked()},apiKeyOnChange2:function(){console.log("apiKeyOnChange2:",this.apiKey2),localStorage.setItem("apiKey2",this.apiKey2)},deleteDeviceButtonIsClicked:function(e){var t=this,n=this.idInfoList[e].id;console.log("deleteDeviceButtonIsClicked is clicked, value=",n);var i=this.serverUrl+"/config/device"+n;console.log("Delete device, url",i);var r=new Headers({"Content-Type":"application/json","X-Elapi-key":this.apiKey}),o={method:"DELETE",headers:r};console.log("259 just before fetch"),fetch(i,o).then((function(e){console.log("262 fetch response",e)})).then((function(e){console.log("Delete Success:",e),t.updateButtonIsClicked()})).catch((function(e){console.error("Error:",e)}))},addDeviceButtonIsClicked:function(){var e=this;console.log("addDeviceButtonIsClicked is clicked",this.addDevice);var t=this.serverUrl+"/config/device/";console.log("Add device, url",t,this.addDevice);var n='{"deviceType":"'+this.addDevice+'"}',i=new Headers({"Content-Type":"application/json","Content-Length":n.length.toString()});"server1"==this.serverSelection?i.append("X-Elapi-key",this.apiKey):i.append("Authorization","Bearer "+this.apiKey);var r={method:"POST",headers:i,body:n};fetch(t,r).then((function(e){return e.json()})).then((function(t){console.log("Add Success:",t),e.updateButtonIsClicked()})).catch((function(e){console.error("Error:",e)}))},updateButtonIsClicked:function(){var e=this;console.log("updateButtonIsClicked is clicked");var t=this.serverUrl+"/devices";console.log("Update devices, url",t);var n=new Headers({"Content-Type":"application/json"});"server1"==this.serverSelection?n.append("X-Elapi-key",this.apiKey):n.append("Authorization","Bearer "+this.apiKey);var i={method:"GET",headers:n};fetch(t,i).then((function(e){return e.json()})).then((function(t){console.log("345 Success:",t);var n="devices";if(e.idInfoList=[],void 0!==t[n])for(var i=0,r=t[n];i<r.length;i++){var o=r[i],s=void 0!==o.deviceType?o.deviceType:"",a={id:"/"+o.id,deviceType:s};e.idInfoList.push(a)}X.sort((function(e,t){var n=e.deviceType.toUpperCase(),i=t.deviceType.toUpperCase();return n<i?-1:n>i?1:0})),console.log("370 idInfoList",X)})).catch((function(e){console.error("Error:",e)}))}},created:function(){console.log("Setting page is created"),console.log("serverSelection:",this.serverSelection,"apiKey1:",this.apiKey1,"apiKey2:",this.apiKey2),this.updateButtonIsClicked()}}),M=n(744);const Y=(0,M.Z)(Z,[["render",G],["__scopeId","data-v-04abab90"]]);var q=Y}}]);
//# sourceMappingURL=about.d8cb4d75.js.map