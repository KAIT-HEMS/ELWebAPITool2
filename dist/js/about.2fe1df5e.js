"use strict";(self["webpackChunkelwebapitool2"]=self["webpackChunkelwebapitool2"]||[]).push([[443],{213:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var i=n(252);const r={class:"about"},o=(0,i.uE)('<div><h4>ECHONET Lite WebAPI Toolについて</h4><div> この Tool は、エコーネットコンソーシアムが策定した <a href="https://echonet.jp/web_api/#guideline" target="_blank" rel="noreferrer"> ECHONET Lite WebAPI </a> の仕様を理解するためのツールです。<br> エコーネットコンソーシアムが会員向けに運用している実験サーバーへのアクセスを想定しています。<br> 実験サーバーについては <a href="https://echonet.jp/m_only/web_api_cloud/" target="_blank" rel="noreferrer"> こちらの会員限定ページ </a> を参照ください。 </div><h4>apiKeyについて</h4><div> このツールを使って実験サーバーにアクセスするには、あらかじめユーザー登録を行い、apiKeyの取得が必要です。<br> ユーザー登録は、上記の会員限定ページから行うことができます。<br> この Tool の設定画面でapiKeyを入力したのち、設定保存ボタンをクリックしてください。 </div></div>',1),s=[o];function c(e,t){return(0,i.wg)(),(0,i.iD)("div",r,s)}var a=n(744);const l={},d=(0,a.Z)(l,[["render",c]]);var u=d},480:function(e,t,n){n.r(t),n.d(t,{default:function(){return ce}});var i=n(252),r={class:"setting"};function o(e,t,n,o,s,c){var a=(0,i.up)("SettingServer"),l=(0,i.up)("SettingDevice");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("div",null,[(0,i.Wm)(a),(0,i.Wm)(l)])])}var s=n(577),c=n(963),a=function(e){return(0,i.dD)("data-v-577bb4d8"),e=e(),(0,i.Cn)(),e},l={class:"settingServer"},d={class:"card"},u={class:"card-header"},v={class:"row"},p=a((function(){return(0,i._)("div",{class:"col-auto h5 mt-2"},"ECHONET Lite WebAPI Server の設定",-1)})),f=a((function(){return(0,i._)("div",{class:"col"},null,-1)})),h={class:"col-auto mt-2"},g=a((function(){return(0,i._)("div",{class:"col-auto"},null,-1)})),y={class:"card-body pt-2 pb-2"},_={class:"input-group"},S=a((function(){return(0,i._)("span",{class:"input-group-text"},"Select a server",-1)})),m={class:"form-check"},b=a((function(){return(0,i._)("label",{class:"form-check-label",for:"server1"},"実験サーバー",-1)})),K={class:"form-check"},C=a((function(){return(0,i._)("label",{class:"form-check-label",for:"server2"},"実証システム",-1)})),D=a((function(){return(0,i._)("br",null,null,-1)})),I={class:"input-group"},k=a((function(){return(0,i._)("span",{class:"input-group-text"},"API key for 実験サーバー",-1)})),w={class:"input-group"},U=a((function(){return(0,i._)("span",{class:"input-group-text"},"API key for 実証システム",-1)}));function T(e,t,n,r,o,a){return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",d,[(0,i._)("div",u,[(0,i._)("div",v,[p,f,(0,i._)("div",h,(0,s.zw)(e.serverUrl),1),g])]),(0,i._)("div",y,[(0,i._)("form",null,[(0,i._)("div",_,[S,(0,i._)("div",m,[(0,i.wy)((0,i._)("input",{class:"form-check-input",type:"radio",id:"server1",value:"server1","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.serverSelection=t}),onChange:t[1]||(t[1]=function(t){return e.rbServerOnChange(t)})},null,544),[[c.G2,e.serverSelection]]),b]),(0,i._)("div",K,[(0,i.wy)((0,i._)("input",{class:"form-check-input",type:"radio",id:"server2",value:"server2","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.serverSelection=t}),onChange:t[3]||(t[3]=function(t){return e.rbServerOnChange(t)})},null,544),[[c.G2,e.serverSelection]]),C]),D]),(0,i._)("div",I,[k,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:"inputApiKey1","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.apiKey1=t}),onChange:t[5]||(t[5]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apiKeyOnChange1&&e.apiKeyOnChange1.apply(e,t)})},null,544),[[c.nr,e.apiKey1]])]),(0,i._)("div",w,[U,(0,i.wy)((0,i._)("input",{type:"text",class:"form-control",id:"inputApiKey2","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.apiKey2=t}),onChange:t[7]||(t[7]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apiKeyOnChange2&&e.apiKeyOnChange2.apply(e,t)})},null,544),[[c.nr,e.apiKey2]])])])])])])}var L=n(601);console.log("SettingServer init");var E=[],O=(0,i.aZ)({name:"SettingServer",data:function(){var e,t;return{apiKey1:null!==(e=localStorage.getItem("apiKey1"))&&void 0!==e?e:"",apiKey2:null!==(t=localStorage.getItem("apiKey2"))&&void 0!==t?t:"",addDevice:L.v.addDeviceList[3],addDeviceList:L.v.addDeviceList,idInfoList:E}},computed:{serverSelection:{get:function(){return this.$store.getters.serverSelection},set:function(e){this.$store.dispatch("setServerSelection",e)}},serverUrl:{get:function(){return this.$store.getters.serverUrl},set:function(e){this.$store.dispatch("setServerUrl",e)}},apiKey:{get:function(){return this.$store.getters.apiKey},set:function(e){this.$store.dispatch("setApiKey",e)}}},methods:{rbServerOnChange:function(e){if(e.target instanceof HTMLInputElement){var t=e.target.value;console.log("rbServerOnChange",t),localStorage.setItem("serverSelection",t),this.serverSelection=t,this.serverUrl="server1"==t?L.v.serverUrl1:L.v.serverUrl2,this.apiKey="server1"==t?this.apiKey1:this.apiKey2,"server1"==t&&this.updateButtonIsClicked()}},apiKeyOnChange1:function(){console.log("apiKeyOnChange1:",this.apiKey1),localStorage.setItem("apiKey1",this.apiKey1),this.updateButtonIsClicked()},apiKeyOnChange2:function(){console.log("apiKeyOnChange2:",this.apiKey2),localStorage.setItem("apiKey2",this.apiKey2)},updateButtonIsClicked:function(){var e=this,t=this.serverUrl+"/devices";console.log("Update devices, ",{url:t});var n=new Headers({"X-Elapi-key":this.apiKey}),i={method:"GET",headers:n};fetch(t,i).then((function(e){return e.json()})).then((function(t){console.log("Update devices",t);var n="devices";if(e.idInfoList=[],void 0!==t[n])for(var i=0,r=t[n];i<r.length;i++){var o=r[i],s=void 0!==o.deviceType?o.deviceType:"",c={id:"/"+o.id,deviceType:s};e.idInfoList.push(c)}e.idInfoList.sort((function(e,t){var n=e.deviceType.toUpperCase(),i=t.deviceType.toUpperCase();return n<i?-1:n>i?1:0}))})).catch((function(e){console.error("Update Error:",e)}))}},created:function(){console.log("Setting page: Server is created"),console.log("serverSelection:",this.serverSelection,"apiKey1:",this.apiKey1,"apiKey2:",this.apiKey2)}}),A=n(744);const B=(0,A.Z)(O,[["render",T],["__scopeId","data-v-577bb4d8"]]);var $=B,H=function(e){return(0,i.dD)("data-v-76558f0c"),e=e(),(0,i.Cn)(),e},x={class:"settingDevice"},P={key:0,class:"card"},V={class:"card-header"},Z={class:"row"},j=H((function(){return(0,i._)("div",{class:"col-auto h5 mt-2"},"デバイスエミュレーションの設定",-1)})),W=H((function(){return(0,i._)("div",{class:"col"},null,-1)})),z={class:"col-auto"},G={class:"col-auto mt-1 pl-0"},X={class:"col-auto mt-1 pl-0"},N={class:"card-body",id:"setting-devices-body"},M={id:"setting-devices-list-wrapper"},Y={class:"list-group",id:"setting-devices-list"},q=H((function(){return(0,i._)("li",{class:"list-group-item d-flex align-items-start",id:"devices-header",tabindex:"0"},[(0,i._)("span",{class:"col1"},"Device Type"),(0,i._)("span",{class:"col2"},"Device Id"),(0,i._)("span",{class:"col3"},"削除")],-1)})),F={class:"col1"},J={class:"col2"},Q={class:"col3"},R=["onClick"];function ee(e,t,n,r,o,a){var l=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.iD)("div",x,["server1"===e.serverSelection?((0,i.wg)(),(0,i.iD)("div",P,[(0,i._)("div",V,[(0,i._)("form",null,[(0,i._)("div",Z,[j,W,(0,i._)("div",z,[(0,i.wy)((0,i._)("select",{id:"selectAddDevice",class:"form-control","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.addDevice=t})},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.addDeviceList,(function(e){return(0,i.wg)(),(0,i.iD)("option",{key:e.id},(0,s.zw)(e),1)})),128))],512),[[c.bM,e.addDevice]])]),(0,i._)("div",G,[(0,i._)("button",{type:"button",class:"btn btn-secondary btn-sm",onClick:t[1]||(t[1]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.addDeviceButtonIsClicked&&e.addDeviceButtonIsClicked.apply(e,t)})}," デバイス追加 ")]),(0,i._)("div",X,[(0,i._)("button",{type:"button",class:"btn btn-secondary btn-sm",onClick:t[2]||(t[2]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.updateButtonIsClicked&&e.updateButtonIsClicked.apply(e,t)})}," UPDATE ")])])])]),(0,i._)("div",N,[(0,i._)("div",M,[(0,i._)("ul",Y,[q,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.idInfoList,(function(t,n){return(0,i.wg)(),(0,i.iD)("li",{class:"list-group-item d-flex align-items-start",key:t.id,tabindex:"0"},[(0,i._)("span",F,(0,s.zw)(t.deviceType),1),(0,i._)("span",J,(0,s.zw)(t.id),1),(0,i._)("span",Q,[(0,i._)("button",{class:"btn btn-secondary btn-sm",type:"button",onClick:function(t){return e.deleteDeviceButtonIsClicked(n)}},[(0,i.Wm)(l,{icon:"trash",style:{color:"#eeeeee"}})],8,R)])])})),128))])])])])):(0,i.kq)("",!0)])}console.log("SettingDevice init");var te=[],ne=(0,i.aZ)({name:"SettingDevice",data:function(){var e,t;return{apiKey1:null!==(e=localStorage.getItem("apiKey1"))&&void 0!==e?e:"",apiKey2:null!==(t=localStorage.getItem("apiKey2"))&&void 0!==t?t:"",addDevice:L.v.addDeviceList[3],addDeviceList:L.v.addDeviceList,idInfoList:te}},computed:{serverSelection:{get:function(){return this.$store.getters.serverSelection},set:function(e){this.$store.dispatch("setServerSelection",e)}},serverUrl:{get:function(){return this.$store.getters.serverUrl},set:function(e){this.$store.dispatch("setServerUrl",e)}},apiKey:{get:function(){return this.$store.getters.apiKey},set:function(e){this.$store.dispatch("setApiKey",e)}}},methods:{deleteDeviceButtonIsClicked:function(e){var t=this,n=this.idInfoList[e].id,i=this.serverUrl+"/config/device"+n;console.log("Delete device, ",{url:i});var r=new Headers({"X-Elapi-key":this.apiKey}),o={method:"DELETE",headers:r};fetch(i,o).then((function(e){console.log("Delete",e.status),t.updateButtonIsClicked()})).catch((function(e){console.error("Delete Error:",e)}))},addDeviceButtonIsClicked:function(){var e=this,t=this.serverUrl+"/config/device/";console.log("Add device, ",{url:t},this.addDevice);var n='{"deviceType":"'+this.addDevice+'"}',i=new Headers({"X-Elapi-key":this.apiKey,"Content-Type":"application/json","Content-Length":n.length.toString()}),r={method:"POST",headers:i,body:n};fetch(t,r).then((function(e){return e.json()})).then((function(t){console.log("Add Success:",t),e.updateButtonIsClicked()})).catch((function(e){console.error("Add Error:",e)}))},updateButtonIsClicked:function(){var e=this,t=this.serverUrl+"/devices";console.log("Update devices, ",{url:t});var n=new Headers({"X-Elapi-key":this.apiKey}),i={method:"GET",headers:n};fetch(t,i).then((function(e){return e.json()})).then((function(t){console.log("Update devices",t);var n="devices";if(e.idInfoList=[],void 0!==t[n])for(var i=0,r=t[n];i<r.length;i++){var o=r[i],s=void 0!==o.deviceType?o.deviceType:"",c={id:"/"+o.id,deviceType:s};e.idInfoList.push(c)}e.idInfoList.sort((function(e,t){var n=e.deviceType.toUpperCase(),i=t.deviceType.toUpperCase();return n<i?-1:n>i?1:0}))})).catch((function(e){console.error("Update Error:",e)}))}},created:function(){console.log("Setting page: Device is created"),"server1"==this.serverSelection&&this.updateButtonIsClicked()}});const ie=(0,A.Z)(ne,[["render",ee],["__scopeId","data-v-76558f0c"]]);var re=ie;console.log("SettingView init");var oe=(0,i.aZ)({name:"SettingView",components:{SettingServer:$,SettingDevice:re}});const se=(0,A.Z)(oe,[["render",o],["__scopeId","data-v-7a2c17de"]]);var ce=se}}]);
//# sourceMappingURL=about.2fe1df5e.js.map